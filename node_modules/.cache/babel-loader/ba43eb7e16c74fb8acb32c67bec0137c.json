{"ast":null,"code":"export default {\n  name: \"AddSong\",\n\n  data() {\n    return {\n      title: '',\n      artists: [''],\n      lyrics: ''\n    };\n  },\n\n  methods: {\n    addArtist() {\n      this.artists.push('');\n    },\n\n    async submit() {\n      const submit = {\n        title: this.title,\n        artists: this.artists.filter(e => e),\n        lyrics: this.lyrics\n      };\n      const res = await fetch('/api/songs', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(submit)\n      });\n      await res.json();\n    }\n\n  }\n};","map":{"version":3,"mappings":"AAoCA,eAAe;AACXA,MAAI,EAAE,SADK;;AAEXC,MAAI,GAAG;AACH,WAAQ;AACJC,WAAK,EAAE,EADH;AAEJC,aAAO,EAAE,CAAC,EAAD,CAFL;AAGJC,YAAM,EAAE;AAHJ,KAAR;AAKH,GARU;;AASXC,SAAO,EAAE;AACLC,aAAS,GAAG;AACR,WAAKH,OAAL,CAAaI,IAAb,CAAkB,EAAlB;AACH,KAHI;;AAIL,UAAMC,MAAN,GAAe;AACX,YAAMA,MAAK,GAAI;AACXN,aAAK,EAAE,KAAKA,KADD;AAEXC,eAAO,EAAE,KAAKA,OAAL,CAAaM,MAAb,CAAoBC,KAAKA,CAAzB,CAFE;AAGXN,cAAM,EAAE,KAAKA;AAHF,OAAf;AAOC,YAAMO,GAAE,GAAI,MAAMC,KAAK,CAAC,YAAD,EAAe;AAClCC,cAAM,EAAE,MAD0B;AAElCC,eAAO,EAAE;AACL,0BAAgB;AADX,SAFyB;AAKlCC,YAAI,EAAEC,IAAI,CAACC,SAAL,CAAeT,MAAf;AAL4B,OAAf,CAAvB;AAQA,YAAMG,GAAG,CAACO,IAAJ,EAAN;AACL;;AArBK;AATE,CAAf","names":["name","data","title","artists","lyrics","methods","addArtist","push","submit","filter","e","res","fetch","method","headers","body","JSON","stringify","json"],"sourceRoot":"","sources":["/home/jacklinde/Documents/GitHub/stuko/src/views/AddSong.vue"],"sourcesContent":["<template>\n    <div class=\"container\">\n        <h2>Add Song</h2>\n        <form class=\"col-md-6 offset-md-3 needs-validation\" v-on:submit=\"submit\" novalidate> \n            <div class=\"mb-3\">\n                <label for=\"inputTitle\" class=\"form-label\">Titel</label>\n                <input type=\"text\" v-model=\"title\" class=\"form-control\" id=\"inputTitle\" required autofocus>\n                <div class=\"invalid-feedback\">\n                    Voeg een titel toe.\n                </div>\n            </div>\n            <div class=\"mb-3\" v-for=\"(artist, index) in artists\" :key=\"index\">\n                <label for=\"inputArtists\" class=\"form-label\">Artiest {{index+1}}</label>\n                <input type=\"text\" v-model=\"artists[index]\" :name=\"`artists[${index}]`\" class=\"form-control\" id=\"inputArtists\" required>\n                <div class=\"invalid-feedback\">\n                    Voeg ten minste 1 artiest toe.\n                </div>\n            </div>\n            <div class=\"mb-3\">\n                <button type=\"button\" @click=\"addArtist\" class=\"btn btn-link\">+ Voeg artiest toe</button>\n            </div>\n            <div class=\"mb-3\">\n                <label for=\"inputLyrics\" class=\"form-label\">Tekst</label>\n                <textarea v-model=\"lyrics\" name=\"inputLyrics\" id=\"inputLyrics\" rows=\"20\" class=\"form-control\" required></textarea>\n                <div class=\"invalid-feedback\">\n                    Voeg songtekst toe.\n                </div>\n            </div>\n            <div class=\"d-grid col-6 mx-auto\">\n                <button type=\"submit\" class=\"btn btn-primary\">Voeg toe</button>\n            </div>\n        </form>\n    </div>\n</template>\n\n<script>\nexport default {\n    name: \"AddSong\",\n    data() {\n        return  {\n            title: '',\n            artists: [''],\n            lyrics: ''\n        }\n    },\n    methods: {\n        addArtist() {\n            this.artists.push('')\n        },\n        async submit() {\n            const submit = {\n                title: this.title,\n                artists: this.artists.filter(e => e),\n                lyrics: this.lyrics\n            }\n\n\n             const res = await fetch('/api/songs', {\n                 method: 'POST',\n                 headers: {\n                     'Content-Type': 'application/json'\n                 },\n                 body: JSON.stringify(submit)\n             })\n\n             await res.json()\n        }\n    }\n}\n</script>"]},"metadata":{},"sourceType":"module"}